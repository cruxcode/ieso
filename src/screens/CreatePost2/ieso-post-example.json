{
	"data_models": [
		{
			"id": "posts",
			"fields": [
				{
					"id": "_id",
					"data_type": "ObjectId"
				},
				{
					"id": "feeling",
					"data_type": "string"
				},
				{
					"id": "angry",
					"data_type": "number"
				},
				{
					"id": "sad",
					"data_type": "number"
				},
				{
					"id": "stressed",
					"data_type": "number"
				},
				{
					"id": "happy",
					"data_type": "number"
				},
				{
					"id": "lonely",
					"data_type": "number"
				},
				{
					"id": "calm",
					"data_type": "number"
				},
				{
					"id": "excited",
					"data_type": "number"
				},
				{
					"id": "annoyed",
					"data_type": "number"
				},
				{
					"id": "hopeful",
					"data_type": "number"
				},
				{
					"id": "despaired",
					"data_type": "number"
				},
				{
					"id": "guilty",
					"data_type": "number"
				},
				{
					"id": "afraid",
					"data_type": "number"
				},
				{
					"id": "disgusted",
					"data_type": "number"
				},
				{
					"id": "surprised",
					"data_type": "number"
				},
				{
					"id": "has_cause",
					"data_type": "enum",
					"enums": { "data_type": "string", "options": ["yes", "no"] }
				},
				{
					"id": "incident",
					"data_type": "string"
				},
				{
					"id": "when",
					"data_type": "enum",
					"enums": {
						"data_type": "string",
						"options": [
							"within the last hour",
							"within the last day",
							"within the last week",
							"other"
						]
					}
				},
				{
					"id": "visibility",
					"enums": {
						"data_type": "string",
						"options": ["public", "private"]
					}
				},
				{
					"id": "related_issue",
					"data_type": "enum",
					"enums": {
						"data_type": "string",
						"enums": {
							"data_type": "string",
							"options": [
								"COVID_19",
								"Black Lives Matter",
								"Other"
							]
						}
					}
				},
				{
					"id": "other_issue",
					"data_type": "string"
				},
				{
					"id": "space_0",
					"data_type": "Space",
					"max_members": 1
				},
				{
					"id": "actor_permission_1",
					"data_type": "Space",
					"max_members": 1
				},
				{
					"id": "actor_permission_2",
					"data_type": "Space",
					"max_members": 1
				}
			],
			"db_controller": {
				"controller": "PostDBController",
				"config": {},
				"desc": "DBController is responsible to create triggers and etc for this node"
			}
		}
	],
	"global_spaces": [
		{
			"space": "loggedin",
			"space_type": "TokenBased"
		},
		{
			"space": "admins",
			"space_type": "CollectionBased"
		},
		{
			"space": "moderators",
			"space_type": "CollectionBased"
		}
	],
	"views": [
		{
			"id": "posts_form",
			"view_type": "form",
			"children": [
				{
					"id": "text_1",
					"value": "Submit Posting",
					"view_type": "TextBox"
				},
				{
					"id": "text_2",
					"value": "In your posting, you will be asked to share a self evaluation of your emotions. First, you will be asked to describe your emotions, and then you will be asked to evaluate them by ranking a set of chosen emotions from 1 to 10. After describing your emotions, you will be asked to describe any potential events or topics relating to your emotions. Please recall that you are free to make postings at any time as part of this study.",
					"view_type": "TextBox"
				},
				{
					"id": "textbox_1",
					"label": "How are you feeling?",
					"view_type": "TextArea",
					"dest": [{ "data_model": "posts", "field": "feeling" }]
				},
				{
					"id": "text_3",
					"value": "Emotional Rankings",
					"view_type": "TextBox"
				},
				{
					"id": "text_4",
					"value": "How much are you feeling each of the following emotions right now, from 1 (low) to 10 (high)?",
					"view_type": "TextBox"
				},
				{
					"id": "range_selector_1",
					"label": "angry *",
					"view_type": "RangeSelector",
					"dest": [{ "data_model": "posts", "field": "angry" }]
				},
				{
					"id": "range_selector_2",
					"label": "sad *",
					"view_type": "RangeSelector",
					"dest": [{ "data_model": "posts", "field": "sad" }]
				},
				{
					"id": "range_selector_3",
					"label": "stressed *",
					"view_type": "RangeSelector",
					"dest": [{ "data_model": "posts", "field": "stressed" }]
				},
				{
					"id": "range_selector_4",
					"label": "happy *",
					"view_type": "RangeSelector",
					"dest": [{ "data_model": "posts", "field": "happy" }]
				},
				{
					"id": "range_selector_5",
					"label": "lonely *",
					"view_type": "RangeSelector",
					"dest": [{ "data_model": "posts", "field": "lonely" }]
				},
				{
					"id": "range_selector_6",
					"label": "calm *",
					"view_type": "RangeSelector",
					"dest": [{ "data_model": "posts", "field": "calm" }]
				},
				{
					"id": "range_selector_7",
					"label": "excited *",
					"view_type": "RangeSelector",
					"dest": [{ "data_model": "posts", "field": "excited" }]
				},
				{
					"id": "range_selector_8",
					"label": "annoyed *",
					"view_type": "RangeSelector",
					"dest": [{ "data_model": "posts", "field": "annoyed" }]
				},
				{
					"id": "range_selector_9",
					"label": "hopeful *",
					"view_type": "RangeSelector",
					"dest": [{ "data_model": "posts", "field": "hopeful" }]
				},
				{
					"id": "range_selector_10",
					"label": "despaired *",
					"view_type": "RangeSelector",
					"dest": [{ "data_model": "posts", "field": "despaired" }]
				},
				{
					"id": "range_selector_11",
					"label": "guilty *",
					"view_type": "RangeSelector",
					"dest": [{ "data_model": "posts", "field": "guilty" }]
				},
				{
					"id": "range_selector_12",
					"label": "afraid *",
					"view_type": "RangeSelector",
					"dest": [{ "data_model": "posts", "field": "afraid" }]
				},
				{
					"id": "range_selector_13",
					"label": "disgusted *",
					"view_type": "RangeSelector",
					"dest": [{ "data_model": "posts", "field": "disgusted" }]
				},
				{
					"id": "range_selector_14",
					"label": "surprised *",
					"view_type": "RangeSelector",
					"dest": [{ "data_model": "posts", "field": "surprised" }]
				},
				{
					"id": "radio_1",
					"label": "Are you feeling this way because of specific event? *",
					"options": [
						{
							"id": "radio_option_1",
							"label": "Yes",
							"value": "yes"
						},
						{
							"id": "radio_option_1",
							"label": "Yes",
							"value": "yes"
						},
						{
							"id": "radio_option_2",
							"label": "No",
							"value": "no"
						}
					],
					"data_type": "string",
					"view_type": "Radio"
				},
				{
					"id": "textbox_2",
					"label": "How would you describe what happened? *",
					"view_type": "EditTextBox",
					"dest": [{ "data_model": "posts", "field": "incident" }]
				},
				{
					"id": "radio_2",
					"label": "When did this happen? *",
					"options": [
						{
							"label": "within the last hour",
							"src": [
								{
									"data_model": "posts",
									"field": "when",
									"option": 0
								}
							]
						},
						{
							"label": "within the last day",
							"src": [
								{
									"data_model": "posts",
									"field": "when",
									"option": 1
								}
							]
						},
						{
							"label": "within the last week",
							"src": [
								{
									"data_model": "posts",
									"field": "when",
									"option": 2
								}
							]
						},
						{
							"label": "within the last week",
							"src": [
								{
									"data_model": "posts",
									"field": "when",
									"option": 2
								}
							]
						},
						{
							"label": "other",
							"src": [
								{
									"data_model": "posts",
									"field": "when",
									"option": 3
								}
							]
						}
					],
					"view_type": "Radio",
					"dest": [{ "data_model": "posts", "field": "when" }]
				},
				{
					"id": "radio_3",
					"label": "Would you like this post to be public? *",
					"options": [
						{
							"label": "public",
							"src": [
								{
									"data_model": "posts",
									"field": "visibility",
									"option": 0
								}
							]
						},
						{
							"label": "public",
							"src": [
								{
									"data_model": "posts",
									"field": "visibility",
									"option": 1
								}
							]
						}
					],
					"view_type": "Radio",
					"dest": [{ "data_model": "posts", "field": "visibility" }]
				},
				{
					"id": "text_5",
					"value": "If your post is public, you may receive replies from other users.",
					"view_type": "TextBox"
				},
				{
					"id": "radio_4",
					"label": "Is this related to COVID_19 or issues relevant to Black Lives Matter? *",
					"options": [
						{
							"label": "COVID_19",
							"src": [
								{
									"data_model": "posts",
									"field": "related_issue",
									"option": 0
								}
							]
						},
						{
							"label": "Black Lives Matter",
							"src": [
								{
									"data_model": "posts",
									"field": "related_issue",
									"option": 1
								}
							]
						},
						{
							"label": "Other",
							"src": [
								{
									"data_model": "posts",
									"field": "related_issue",
									"option": 2
								}
							]
						}
					],
					"dest": [
						{ "data_model": "posts", "field": "related_issue" }
					],
					"view_type": "Radio",
					"triggers": [
						{
							"select": [
								{
									"comm": "hide_other_issue = false"
								}
							]
						}
					]
				},
				{
					"id": "textbox_3",
					"view_type": "EditTextBox",
					"dest": [{ "data_model": "posts", "field": "other_issue" }],
					"properties": { "hide": "hide_other_issue" }
				},
				{
					"id": "button_1",
					"view_type": "Button",
					"actions": [
						{
							"action_type": "create",
							"allowed_spaces": [
								"admins",
								"moderators",
								"loggedin"
							]
						}
					]
				}
			],
			"vars": [
				{
					"name": "hide_other_issue",
					"data_type": "boolean",
					"initial_value": true
				}
			]
		},
		{
			"id": "post_list",
			"view_type": "InfiniteScrollList",
			"data_source": {
				"query": [
					{ "fields": ["_id", "feeling"], "data_model": "posts" }
				]
			},
			"child_view": "post_list_item"
		},
		{
			"id": "post_list_item",
			"view_type": "Card",
			"children": [
				{
					"_id": "text_1",
					"view_type": "TextBox",
					"src": [{ "field": "feeling", "data_model": "posts" }]
				},
				{}
			]
		}
	],
	"available_views": [
		{ "name": "posts_form", "view-type": "form" },
		{
			"name": "posts_list",
			"view-type": "InfiniteScrollList",
			"data_source": {
				"query": [
					{
						"fields": ["_id", "feeling"],
						"data_model": "posts"
					}
				]
			},
			"child_view": "posts_item"
		},
		{
			"name": "posts_item",
			"view-type": "Card",
			"data_source": {
				"query": [
					{
						"row_selector": ["_id"],
						"fields": ["feeling"],
						"data_model": "posts"
					}
				]
			},
			"permissions": [
				{
					"permission_1": { "view_type": "Checkbox" },
					"permission_2": { "view_type": "Checkbox" }
				}
			]
		},
		{
			"name": "posts_approve_1",
			"view-type": "Button",
			"actions": [
				{
					"action-type": "set-value",
					"selector": {
						"field": "permission_1_approved",
						"data-model": "posts",
						"filter": ["_id"]
					},
					"value": true
				},
				{ "action-type": "join", "space": "posts_permission_1" }
			]
		},
		{
			"name": "posts_decline_1",
			"view-type": "Button",
			"actions": [
				{
					"action-type": "set-value",
					"selector": {
						"field": "permission_1_approved",
						"data-model": "posts",
						"filter": ["_id"]
					},
					"value": false
				},
				{ "action-type": "join", "space": "posts_permission_1" }
			]
		},
		{
			"name": "posts_approve_2",
			"view-type": "Button",
			"actions": [
				{
					"action-type": "set-value",
					"selector": {
						"field": "permission_2_approved",
						"data-model": "posts",
						"filter": ["_id"]
					},
					"value": true
				},
				{ "action-type": "join", "space": "posts_permission_2" }
			]
		},
		{
			"name": "posts_decline_2",
			"view-type": "Button",
			"actions": [
				{
					"action-type": "set-value",
					"selector": {
						"field": "permission_2_approved",
						"data-model": "posts",
						"filter": ["_id"]
					},
					"value": false
				},
				{ "action-type": "join", "space": "posts_permission_2" }
			]
		}
	],
	"available_actions": [
		[
			{
				"action-type": "set-value",
				"selector": {
					"field": "permission_2_approved",
					"data-model": "posts",
					"filter": ["_id"]
				},
				"value": true
			},
			{ "action-type": "join", "space": "posts_permission_2" }
		],
		[
			[
				{
					"action-type": "set-value",
					"selector": {
						"field": "permission_1_approved",
						"data-model": "posts",
						"filter": ["_id"]
					},
					"value": true
				},
				{ "action-type": "join", "space": "posts_permission_1" }
			]
		],
		[
			[
				{
					"action-type": "set-value",
					"selector": {
						"field": "permission_1_approved",
						"data-model": "posts",
						"filter": ["_id"]
					},
					"value": false
				},
				{ "action-type": "join", "space": "posts_permission_1" }
			]
		],
		[
			[
				{
					"action-type": "set-value",
					"selector": {
						"field": "permission_1_approved",
						"data-model": "posts",
						"filter": ["_id"]
					},
					"value": false
				},
				{ "action-type": "join", "space": "posts_permission_1" }
			]
		]
	]
}
